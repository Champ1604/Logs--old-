var sect = require('origindb')('sect');
var weapon = require('origindb')('weapon');

module.exports = {

	makeStats: function(clvl,blvl,cls,weap){
		//HP
		var clsHP = sect(cls).get('hp').split(',');
		var weapHP = weapon(weap).get('hp').split(',');
		var maxHP = Number(clsHP[(Number(clvl) - 1)]) + Number(weapHP[(Number(blvl) - 1)]);
		
		//Magic
		var clsMag = sect(cls).get('magic').split(',');
		var weapMag = weapon(weap).get('magic').split(',');
		var mag = Number(clsMag[(Number(clvl) - 1)]) + Number(weapMag[(Number(blvl) - 1)]);
		
		//Attack
		var clsAtk = sect(cls).get('atk').split(',');
		var weapAtk = weapon(weap).get('atk').split(',');
		var atk = Number(clsAtk[(Number(clvl) - 1)]) + Number(weapAtk[(Number(blvl) - 1)]);
		
		//Pdef
		var clsPdef = sect(cls).get('pdef').split(',');
		var weapPdef = weapon(weap).get('pdef').split(',');
		var pdef = Number(clsPdef[(Number(clvl) - 1)]) + Number(weapPdef[(Number(blvl) - 1)]);
		
		//Peva
		/*var clsPeva = sect(cls).get('peva').split(',');
		var weapPeva = weapon(weap).get('peva').split(',');
		var peva = Number(clsPeva[(Number(clvl) - 1)]) + Number(weapPeva[(Number(blvl) - 1)]);*/
		var peva = Math.floor(Number(pdef)/10);	
		
		//Mdef
		var clsMdef = sect(cls).get('mdef').split(',');
		var weapMdef = weapon(weap).get('mdef').split(',');
		var mdef = Number(clsMdef[(Number(clvl) - 1)]) + Number(weapMdef[(Number(blvl) - 1)]);
		
		//Meva
		/*var clsMeva = sect(cls).get('meva').split(',');
		var weapMeva = weapon(weap).get('meva').split(',');
		var meva = Number(clsMeva[(Number(clvl) - 1)]) + Number(weapMeva[(Number(blvl) - 1)]);*/
		var meva = Math.floor(Number(mdef)/10); 
		
		//Mov
		var clsMov = sect(cls).get('mov').split(',');
		var weapMov = weapon(weap).get('mov').split(',');
		var mov = Number(clsMov[(Number(clvl) - 1)]) + Number(weapMov[(Number(blvl) - 1)]);
		
		return [maxHP,mag,atk,mdef,meva,pdef,peva,mov];
	}
}